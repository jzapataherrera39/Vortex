{"ast":null,"code":"import { create } from \"zustand\";\n\n// URL base del backend\nconst API_URL = \"http://localhost:5000/api\";\nconst poolStore = create((set, get) => ({\n  pools: [],\n  token: localStorage.getItem(\"token\") || null,\n  // Obtener todas las piscinas\n  getPools: async (token = get().token) => {\n    if (!token) return [];\n    try {\n      const res = await fetch(`${API_URL}/pools`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      const data = await res.json();\n      set({\n        pools: data\n      });\n      return data;\n    } catch (error) {\n      console.error(\"Error fetching pools:\", error);\n      return [];\n    }\n  },\n  // Crear piscina\n  createPool: async (poolData, token = get().token) => {\n    try {\n      const res = await fetch(`${API_URL}/pools`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify(poolData)\n      });\n      const data = await res.json();\n      await get().getPools();\n      return data;\n    } catch (error) {\n      console.error(\"Error creating pool:\", error);\n      return null;\n    }\n  },\n  // Editar piscina\n  updatePool: async (id, poolData, token = get().token) => {\n    try {\n      const res = await fetch(`${API_URL}/pools/${id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify(poolData)\n      });\n      const data = await res.json();\n      await get().getPools();\n      return data;\n    } catch (error) {\n      console.error(\"Error updating pool:\", error);\n      return null;\n    }\n  },\n  // Eliminar / Inactivar piscina\n  togglePoolState: async (id, token = get().token) => {\n    try {\n      const res = await fetch(`${API_URL}/pools/${id}/toggle`, {\n        method: \"PUT\",\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      const data = await res.json();\n      await get().getPools();\n      return data;\n    } catch (error) {\n      console.error(\"Error toggling pool state:\", error);\n      return null;\n    }\n  }\n}));\nexport default poolStore;","map":{"version":3,"names":["create","API_URL","poolStore","set","get","pools","token","localStorage","getItem","getPools","res","fetch","headers","Authorization","data","json","error","console","createPool","poolData","method","body","JSON","stringify","updatePool","id","togglePoolState"],"sources":["/home/jorge/Escritorio/Prioridad/Prueba/vortex/frontend/src/store/poolStore.js"],"sourcesContent":["import { create } from \"zustand\";\n\n// URL base del backend\nconst API_URL = \"http://localhost:5000/api\";\n\nconst poolStore = create((set, get) => ({\n  pools: [],\n  token: localStorage.getItem(\"token\") || null,\n\n  // Obtener todas las piscinas\n  getPools: async (token = get().token) => {\n    if (!token) return [];\n    try {\n      const res = await fetch(`${API_URL}/pools`, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      const data = await res.json();\n      set({ pools: data });\n      return data;\n    } catch (error) {\n      console.error(\"Error fetching pools:\", error);\n      return [];\n    }\n  },\n\n  // Crear piscina\n  createPool: async (poolData, token = get().token) => {\n    try {\n      const res = await fetch(`${API_URL}/pools`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify(poolData),\n      });\n      const data = await res.json();\n      await get().getPools();\n      return data;\n    } catch (error) {\n      console.error(\"Error creating pool:\", error);\n      return null;\n    }\n  },\n\n  // Editar piscina\n  updatePool: async (id, poolData, token = get().token) => {\n    try {\n      const res = await fetch(`${API_URL}/pools/${id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify(poolData),\n      });\n      const data = await res.json();\n      await get().getPools();\n      return data;\n    } catch (error) {\n      console.error(\"Error updating pool:\", error);\n      return null;\n    }\n  },\n\n  // Eliminar / Inactivar piscina\n  togglePoolState: async (id, token = get().token) => {\n    try {\n      const res = await fetch(`${API_URL}/pools/${id}/toggle`, {\n        method: \"PUT\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n      const data = await res.json();\n      await get().getPools();\n      return data;\n    } catch (error) {\n      console.error(\"Error toggling pool state:\", error);\n      return null;\n    }\n  },\n}));\n\nexport default poolStore;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}