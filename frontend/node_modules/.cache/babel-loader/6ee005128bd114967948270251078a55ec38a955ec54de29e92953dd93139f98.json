{"ast":null,"code":"import { create } from \"zustand\";\nimport { loginRequest } from \"../api/authApi\";\nexport const authStore = create(set => ({\n  user: null,\n  token: localStorage.getItem(\"token\") || null,\n  isAuthenticated: !!localStorage.getItem(\"token\"),\n  login: async (email, password) => {\n    const res = await loginRequest(email, password);\n    if (res !== null && res !== void 0 && res.token) {\n      localStorage.setItem(\"token\", res.token);\n      set({\n        user: res.user,\n        token: res.token,\n        isAuthenticated: true\n      });\n    }\n    return res;\n  },\n  logout: () => {\n    localStorage.removeItem(\"token\");\n    set({\n      user: null,\n      token: null,\n      isAuthenticated: false\n    });\n  }\n}));\nexport default authStore;","map":{"version":3,"names":["create","loginRequest","authStore","set","user","token","localStorage","getItem","isAuthenticated","login","email","password","res","setItem","logout","removeItem"],"sources":["/home/jorge/Escritorio/Prioridad/Prueba/vortex/frontend/src/store/authStore.js"],"sourcesContent":["import { create } from \"zustand\";\nimport { loginRequest } from \"../api/authApi\";\n\nexport const authStore = create((set) => ({\n  user: null,\n  token: localStorage.getItem(\"token\") || null,\n  isAuthenticated: !!localStorage.getItem(\"token\"),\n\n  login: async (email, password) => {\n    const res = await loginRequest(email, password);\n\n    if (res?.token) {\n      localStorage.setItem(\"token\", res.token);\n      set({\n        user: res.user,\n        token: res.token,\n        isAuthenticated: true,\n      });\n    }\n\n    return res;\n  },\n\n  logout: () => {\n    localStorage.removeItem(\"token\");\n    set({ user: null, token: null, isAuthenticated: false });\n  },\n}));\n\nexport default authStore;"],"mappings":"AAAA,SAASA,MAAM,QAAQ,SAAS;AAChC,SAASC,YAAY,QAAQ,gBAAgB;AAE7C,OAAO,MAAMC,SAAS,GAAGF,MAAM,CAAEG,GAAG,KAAM;EACxCC,IAAI,EAAE,IAAI;EACVC,KAAK,EAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,IAAI,IAAI;EAC5CC,eAAe,EAAE,CAAC,CAACF,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAEhDE,KAAK,EAAE,MAAAA,CAAOC,KAAK,EAAEC,QAAQ,KAAK;IAChC,MAAMC,GAAG,GAAG,MAAMX,YAAY,CAACS,KAAK,EAAEC,QAAQ,CAAC;IAE/C,IAAIC,GAAG,aAAHA,GAAG,eAAHA,GAAG,CAAEP,KAAK,EAAE;MACdC,YAAY,CAACO,OAAO,CAAC,OAAO,EAAED,GAAG,CAACP,KAAK,CAAC;MACxCF,GAAG,CAAC;QACFC,IAAI,EAAEQ,GAAG,CAACR,IAAI;QACdC,KAAK,EAAEO,GAAG,CAACP,KAAK;QAChBG,eAAe,EAAE;MACnB,CAAC,CAAC;IACJ;IAEA,OAAOI,GAAG;EACZ,CAAC;EAEDE,MAAM,EAAEA,CAAA,KAAM;IACZR,YAAY,CAACS,UAAU,CAAC,OAAO,CAAC;IAChCZ,GAAG,CAAC;MAAEC,IAAI,EAAE,IAAI;MAAEC,KAAK,EAAE,IAAI;MAAEG,eAAe,EAAE;IAAM,CAAC,CAAC;EAC1D;AACF,CAAC,CAAC,CAAC;AAEH,eAAeN,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}